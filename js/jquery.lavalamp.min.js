/*!
 * Lava Lamp
 * http://lavalamp.magicmediamuse.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.0.9
 * 
 * Copyright (c) 2016 Richard Hung.
 * 
 * License
 * Lava Lamp by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */

!function(a){"use strict";var t={init:function(t){var s={easing:"swing",duration:700,margins:!1,setOnClick:!1,activeObj:".active",autoUpdate:!1,updateTime:100,enableHover:!0,delayOn:0,delayOff:0,enableFocus:!1,deepFocus:!1,css3:!1};return t=a.extend({},s,t),this.each(function(){var s=t.margins,l=t.setOnClick,m=t.activeObj,r=t.autoUpdate,c=t.updateTime,u=t.enableHover,p=t.delayOn,v=t.delayOff,d=t.enableFocus,f=t.deepFocus,h=t.duration,g=t.easing,T=a(this),b=T.children(),y=T.children(m);0===y.length&&(y=b.eq(0)),T.data({lavalampActive:y,isAnim:!1,settings:t}),T.addClass("lavalamp").css({position:"relative"});var A=a('<div class="lavalamp-object" />').prependTo(T).css({position:"absolute"});b.addClass("lavalamp-item").css({zIndex:5,position:"relative"}),t.css3&&A.css({WebkitTransitionDuration:h/1e3+"s",msTransitionDuration:h/1e3+"s",MozTransitionDuration:h/1e3+"s",OTransitionDuration:h/1e3+"s",transitionDuration:h/1e3+"s",WebkitTransitionTimingFunction:g,msTransitionTimingFunction:g,MozTransitionTimingFunction:g,OTransitionTimingFunction:g,transitionTimingFunction:g});var F=y.outerWidth(s),I=y.outerHeight(s),O=y.position().top,j=y.position().left,C=y.css("marginTop"),D=y.css("marginLeft");s||(D=parseInt(D),C=parseInt(C),j+=D,O+=C),A.css({width:F,height:I,top:O,left:j});var k=!1,H=!0;if(i=function(){var t=a(this);k=!0,setTimeout(function(){k&&H&&T.lavalamp("anim",t)},p)},e=function(a){a=T.data("lavalampActive"),k=!1,setTimeout(function(){!k&&H&&T.lavalamp("anim",a)},v)},n=function(){var t=a(this);t.hasClass("lavalamp-item")||(t=t.parents(".lavalamp-item")),H=!1,setTimeout(function(){T.lavalamp("anim",t)},p)},o=function(){H=!0;var a=T.data("lavalampActive");setTimeout(function(){T.lavalamp("anim",a)},v)},u&&(T.on("mouseenter",".lavalamp-item",i),T.on("mouseleave",".lavalamp-item",e)),d&&(T.on("focusin",".lavalamp-item",n),T.on("focusout",".lavalamp-item",o)),f&&(T.on("focusin",".lavalamp-item *",n),T.on("focusout",".lavalamp-item *",o)),l&&b.click(function(){y=a(this),T.data("lavalampActive",y).lavalamp("update")}),r){var w=setInterval(function(){var a=T.data("isAnim");k||a||T.lavalamp("update")},c);T.data("updateInterval",w)}})},destroy:function(){return this.each(function(){var t=a(this),s=t.data("settings"),l=t.children(".lavalamp-item"),m=s.enableHover,r=s.enableFocus,c=s.deepFocus,u=s.autoUpdate;if(m&&(t.off("mouseenter",".lavalamp-item",i),t.off("mouseleave",".lavalamp-item",e)),r&&(t.off("focusin",".lavalamp-item",n),t.off("focusout",".lavalamp-item",o)),c&&(t.off("focusin",".lavalamp-item *",n),t.off("focusout",".lavalamp-item *",o)),t.removeClass("lavalamp"),l.removeClass("lavalamp-item"),u){var p=t.data("updateInterval");clearInterval(p)}t.children(".lavalamp-object").remove(),t.removeData()})},update:function(){return this.each(function(){var t=a(this),i=t.children(":not(.lavalamp-object)"),e=t.data("lavalampActive");i.addClass("lavalamp-item").css({zIndex:5,position:"relative"}),t.lavalamp("anim",e)})},anim:function(a){var t=this,i=t.data("settings"),e=i.duration,n=i.easing,o=i.margins,s=t.children(".lavalamp-object"),l=a.outerWidth(o),m=a.outerHeight(o),r=a.position().top,c=a.position().left,u=a.css("marginTop"),p=a.css("marginLeft");o||(p=parseInt(p),u=parseInt(u),c+=p,r+=u),t.data("isAnim",!0),i.css3?(s.css({width:l,height:m,top:r,left:c}),setTimeout(function(){t.data("isAnim",!1)},e)):s.stop(!0,!1).animate({width:l,height:m,top:r,left:c},e,n,function(){t.data("isAnim",!1)})}};a.fn.lavalamp=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void a.error("Method "+i+" does not exist on jQuery.lavalamp"):t.init.apply(this,arguments)};var i,e,n,o}(jQuery);