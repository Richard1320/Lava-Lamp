/**
 * Lava Lamp
 * http://lavalamp.magicmediamuse.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.0.7
 * 
 * Copyright (c) 2014 Richard Hung.
 * 
 * License
 * Lava Lamp by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */


!function(a){var t={init:function(t){var n={easing:"swing",duration:700,margins:!1,setOnClick:!1,activeObj:".active",autoUpdate:!1,updateTime:100,enableHover:!0,delayOn:0,delayOff:0},t=a.extend({},n,t);return this.each(function(){var n=(t.easing,t.duration,t.margins),l=t.setOnClick,s=t.activeObj,o=t.autoUpdate,r=t.updateTime,v=t.enableHover,m=t.delayOn,p=t.delayOff,c=a(this),d=c.children(),u=c.children(s);0==u.length&&(u=d.eq(0)),c.data({active:u,isAnim:!1,settings:t}),c.addClass("lavalamp").css({position:"relative"});var f=a('<div class="lavalamp-object" />').prependTo(c).css({position:"absolute"});d.addClass("lavalamp-item").css({zIndex:5,position:"relative"});var h=u.outerWidth(n),g=u.outerHeight(n),b=u.position().top,y=u.position().left,j=u.css("marginTop"),I=u.css("marginLeft");n||(I=parseInt(I),j=parseInt(j),y+=I,b+=j),f.css({width:h,height:g,top:b,left:y});var O=!1;if(e=function(){var t=a(this);O=!0,setTimeout(function(){O&&c.lavalamp("anim",t)},m)},i=function(){var a=c.data("active");O=!1,setTimeout(function(){O||c.lavalamp("anim",a)},p)},v&&(c.on("mouseenter",".lavalamp-item",e),c.on("mouseleave",".lavalamp-item",i)),l&&d.click(function(){u=a(this),c.data("active",u).lavalamp("update")}),o){var C=setInterval(function(){var a=c.data("isAnim");0==O&&0==a&&c.lavalamp("update")},r);c.data("updateInterval",C)}})},destroy:function(){return this.each(function(){var t=a(this),n=t.data("settings"),l=t.children(".lavalamp-item"),s=n.enableHover,o=n.autoUpdate;if(s&&(t.off("mouseenter",".lavalamp-item",e),t.off("mouseleave",".lavalamp-item",i)),t.removeClass("lavalamp"),l.removeClass("lavalamp-item"),o){var r=t.data("updateInterval");clearInterval(r)}t.children(".lavalamp-object").remove(),t.removeData()})},update:function(){return this.each(function(){{var t=a(this),e=t.children(":not(.lavalamp-object)"),i=t.data("active");t.children(".lavalamp-object")}e.addClass("lavalamp-item").css({zIndex:5,position:"relative"}),t.lavalamp("anim",i)})},anim:function(a){var t=this,e=t.data("settings"),i=e.duration,n=e.easing,l=e.margins,s=t.children(".lavalamp-object"),o=a.outerWidth(l),r=a.outerHeight(l),v=a.position().top,m=a.position().left,p=a.css("marginTop"),c=a.css("marginLeft");l||(c=parseInt(c),p=parseInt(p),m+=c,v+=p),t.data("isAnim",!0),s.stop(!0,!1).animate({width:o,height:r,top:v,left:m},i,n,function(){t.data("isAnim",!1)})}};a.fn.lavalamp=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void a.error("Method "+e+" does not exist on jQuery.lavalamp"):t.init.apply(this,arguments)};var e,i}(jQuery);