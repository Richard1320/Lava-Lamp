/**
 * Lava Lamp
 * http://www.lavalamp.magicmediamuse.com/
 *
 * Author
 * Richard Hung
 * http://www.magicmediamuse.com/
 *
 * Version
 * 1.0.0
 * 
 * Copyright (c) 2013 Richard Hung.
 * 
 * License
 * Lava Lamp by Richard Hung is licensed under a Creative Commons Attribution-NonCommercial 3.0 Unported License.
 * http://creativecommons.org/licenses/by-nc/3.0/deed.en_US
 */

(function(e){var t={init:function(t){var n={easing:"swing",duration:700,margins:false,setOnClick:false,activeObj:".active"};var t=e.extend({},n,t);return this.each(function(){var n=t.easing;var r=t.duration;var i=t.margins;var s=t.setOnClick;var o=t.activeObj;var u=e(this);var a=u.children();var f=u.children(o);u.data({easing:n,duration:r,margins:i});u.addClass("lavalamp").css({position:"relative"});var l=e('<div class="lavalamp-object" />').prependTo(u).css({position:"absolute"});a.addClass("lavalamp-item").css({zIndex:5,position:"relative"});var c=f.outerWidth(i);var h=f.outerHeight(i);var p=f.position().top;var d=f.position().left;var v=f.css("marginTop");var m=f.css("marginLeft");if(!i){m=parseInt(m);v=parseInt(v);d=d+m;p=p+v}l.css({width:c,height:h,top:p,left:d});a.hover(function(){var t=e(this);u.lavalamp("anim",t)},function(){u.lavalamp("anim",f)});if(s){e(a).click(function(){f=e(this)})}})},destroy:function(){return this.each(function(){alert("destroy")})},update:function(){return this.each(function(){alert("update")})},anim:function(e){var t=this.data("duration");var n=this.data("easing");var r=this.data("margins");var i=this.children(".lavalamp-object");var s=e.outerWidth(r);var o=e.outerHeight(r);var u=e.position().top;var a=e.position().left;var f=e.css("marginTop");var l=e.css("marginLeft");if(!r){l=parseInt(l);f=parseInt(f);a=a+l;u=u+f}i.stop(true,false).animate({width:s,height:o,top:u,left:a},t,n)}};e.fn.lavalamp=function(n){if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(this,arguments)}else{e.error("Method "+n+" does not exist on jQuery.lavalamp")}}})(jQuery)